<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		
		<title>Busca de proteínas</title>
		
		<!-- jQuery 3.2.1 -->
		<script
		  src="https://code.jquery.com/jquery-3.2.1.min.js"
		  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
		  crossorigin="anonymous"></script>
		  
		<!-- Bootstrap 3.3.7 -->
		<link 
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
			rel="stylesheet" 
			integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
			crossorigin="anonymous">
		<script 
			src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
			integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" 
			crossorigin="anonymous"></script>
		  
		<!-- CSS próprio -->
		<link rel="stylesheet" href="estilo.css">
		
		<script type="text/javascript">
			var __server__;
		
			function Procurar() {
				var out = $("#resultado");
				out.text("Procurando proteína...");
				
				// Configurações da requisição do AJAX
				var ajaxSettings = {
					method: "POST",
					
					data: $("#proteina").val(),
					dataType: "text",
					
					success: function(data) 
					{
						out.text("");
						
						var str = data;
						var result = str.split(",");
						for (var i = 0; i < result.length; i++) {
							out.append(
								"<span class=" + ((i%2==0) ? "par" : "impar") + ">" + 
								result[i]+"</span><br>"
							);
						}
					},
					
					error: function(xhr, ajaxOptions, thrownError)
					{
						out.text("Falha ao conectar ao servidor: " + thrownError);
					}
				};
				
				if (!!__server__)
					$.ajax(__server__ , ajaxSettings);
				else
					$.getJSON("server.json", function(data) {
						__server__ = "http://" + data.address + ":" + data.port;
						$.ajax(__server__ , ajaxSettings);
					});
			}
			</script>
	</head>
	
	<body>
	<div class="container pag">
		<nav class="navbar navbar-default cab">
			<h3 class="logo">Proteínas</h3>
		</nav>
		<nav class="navbar navbar-default" id="Busca">
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		        <li><a href="#">Home</a></li>
		        <li class="dropdown">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Algo<span class="caret"></span></a>
		          <ul class="dropdown-menu">
		            <li><a href="#">1</a></li>
		            <li><a href="#">2</a></li>
		            <li><a href="#">3</a></li>
		            <li role="separator" class="divider"></li>
		            <li><a href="#">4</a></li>
		            <li role="separator" class="divider"></li>
		            <li><a href="#">5</a></li>
		          </ul>
		        </li>
		      </ul>
		      <form class="navbar-form navbar-right">
		        <div class="form-group">
		          <label for="proteina">Locus:</label>
		          <input type="text" class="form-control" placeholder="Search" name="locusProcurado" id="proteina">
		        </div>
		        <button type="submit" class="btn btn-default" onclick="Procurar()">Submit</button>
		      </form>
		        </li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		</nav>
		<div id="resultado" class="container">
		</div>
	</div>
	</body>
</html>